# ============================================================
# Veritas Kanban — Environment Variables
# ============================================================
# Copy this file to server/.env and fill in the values.
#   cp .env.example server/.env
#
# Variables marked [REQUIRED] must be set or the server will
# refuse to start. All others have sensible defaults.
# ============================================================

# ── Server ───────────────────────────────────────────────────
# Port the HTTP server listens on (default: 3001)
# PORT=3001

# Node environment: development | production | test
# Controls CSP strictness, logging format, static file serving
# NODE_ENV=development

# ── Security [REQUIRED] ─────────────────────────────────────
# Admin API key — grants full access to all endpoints.
# Generate one with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
VERITAS_ADMIN_KEY=

# JWT secret for auth token signing/verification.
# If omitted the server auto-generates one (tokens won't survive restarts).
# Generate one with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# VERITAS_JWT_SECRET=

# Enable/disable authentication middleware (default: true)
# Set to "false" only for local development without auth
# VERITAS_AUTH_ENABLED=true

# Allow localhost requests to bypass authentication (default: false)
# VERITAS_AUTH_LOCALHOST_BYPASS=false

# Role assigned to localhost-bypass connections: admin | editor | viewer
# VERITAS_AUTH_LOCALHOST_ROLE=viewer

# Additional API keys (comma-separated, format: name:key,name:key)
# VERITAS_API_KEYS=

# ── Data ─────────────────────────────────────────────────────
# Root directory for persistent data (tasks, config, telemetry).
# Default: <cwd>/.veritas-kanban
# VERITAS_DATA_DIR=

# ── CORS ─────────────────────────────────────────────────────
# Comma-separated list of allowed origins for CORS and WebSocket.
# Default (dev): http://localhost:5173,http://localhost:3000,
#                http://127.0.0.1:5173,http://127.0.0.1:3000
# CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# ── Logging ──────────────────────────────────────────────────
# Pino log level: fatal | error | warn | info | debug | trace | silent
# LOG_LEVEL=info

# ── Content Security Policy ─────────────────────────────────
# Use report-only mode (log violations without blocking)
# CSP_REPORT_ONLY=false

# URL to receive CSP violation reports (e.g., https://example.com/csp-report)
# CSP_REPORT_URI=

# ── Rate Limiting ────────────────────────────────────────────
# Maximum requests per rate-limit window (default: 300)
# RATE_LIMIT_MAX=300

# ── Telemetry ────────────────────────────────────────────────
# Days to retain raw telemetry events
# TELEMETRY_RETENTION_DAYS=30

# Days after which telemetry is compressed
# TELEMETRY_COMPRESS_DAYS=7

# ── External Services ────────────────────────────────────────
# Clawdbot gateway URL (default: http://127.0.0.1:18789)
# CLAWDBOT_GATEWAY=http://127.0.0.1:18789
